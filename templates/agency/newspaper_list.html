{% extends "base.html" %}

{% block content %}
<br>
<br>
<br>

<div class="nav-scroller bg-body shadow-sm p-2">
  <h1 class="text-center">Newspapers</h1>
  <h5 class="text-center"><a href="{% url 'agency:newspaper-create' %}">create newspaper</a></h5>
</div>

<main class="container">

  {% for newspaper in newspapers %}
  <div class="d-flex align-items-center p-3 my-3 text-white bg-secondary rounded shadow-sm">
    <div class="lh-1">
      <h1 class="h6 mb-0 text-white lh-1">"{{ newspaper.title }}"</h1>
      <small>Published date: {{ newspaper.published_date }}</small>
    </div>
    <div class="ms-auto">
      <a class=" text-white p-2 text-decoration-none" href="{% url 'agency:newspaper-update' pk=newspaper.id %}">update</a>
      <a class="text-white p-2 text-decoration-none" href="{% url 'agency:newspaper-delete' pk=newspaper.id %}">delete</a>
    </div>
  </div>

  <div class="my-3 p-3 bg-body rounded shadow-sm">
    <h6 class="border-bottom pb-2 mb-0">Topic: {{ newspaper.topic.name }}</h6>
    <div class="d-flex text-muted pt-3">

      <p class="pb-3 mb-0 small lh-sm border-bottom fs-6">
        {{ newspaper.context }}
      </p>

    </div>

    <div class="d-flex text-muted pt-3">

      <p class="pb-3 mb-0 small lh-sm border-bottom">
        <strong class="d-block text-gray-dark">Redactors: </strong>
        {% if newspaper.publishers.all %}
          {% for publisher in newspaper.publishers.all %}
            <a class="fw-semibold me-1" href="{% url 'agency:redactor-detail' pk=publisher.id %}">{{ publisher }}</a>
          {% endfor %}
        {% endif %}
      </p>
    </div>
  </div>
  {% endfor %}
</main>
{% endblock %}
